<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>StoreBought</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<!-- Burger Menu Button -->
<div class="burger-btn" onclick="toggleMenu()">
    <span></span>
    <span></span>
    <span></span>
</div>

<!-- Menu Overlay -->
<div class="menu-overlay" onclick="toggleMenu()"></div>

<!-- Burger Menu -->
<div class="burger-menu">
    <div class="menu-header">Menu</div>
    <div class="menu-items">
        <div class="menu-item" onclick="handleMenuClick('login')">Login</div>
        <div class="menu-item" onclick="handleMenuClick('register')">Register</div>
        <div class="menu-item" onclick="handleMenuClick('account')">View Account</div>
        <!-- Add more menu items here as needed -->
    </div>
</div>
    <div id="game">
        <div id="leftColumn" onclick="earnMoneyOnClick()">
            <div style="margin-top: 40px; text-align: center;">
                <div style="font-size: 48px; font-weight: bold; margin-bottom: 15px; text-align: center;">
                    <span id="money-display">0</span> coins
                </div>
                <div style="font-size: 20px; margin-bottom: 20px; text-align: center;">
                    <span id="cookies-per-second">0</span> per second
                </div>
                <div style="font-size: 16px; text-align: center;">
                    <span id="click-amount">1</span> per click
                </div>
            </div>
        </div>

        <div id="rightColumn">
            <div class="store-header">Store</div>
            <div id="products">

            </div>
        </div>

        <div id="notifications"></div>
    </div>

    <div id="choice-overlay" class="hidden">
        <div class="choice-card">
            <h2 id="choice-title">placeholder</h2>
            <p id="choice-desc">C</p>

            <div class="choice-buttons">
                <button onclick="handleChoice('evil')" class="btn-steampunk">
                    <span>Unethical</span>
                </button>
                <button onclick="handleChoice('good')" class="btn-steampunk">
                    <span>Ethical</span>
                </button>
            </div>
        </div>
    </div>

<!-- Account Popup Modal -->
<div id="account-popup" class="popup-overlay hidden">
    <div class="popup-modal">
        <button class="popup-close" onclick="closePopup()">×</button>

        <!-- Login Form -->
        <div id="login-form" class="popup-content hidden">
            <h2 class="popup-title">Login</h2>
            <div class="form-group">
                <label>Username</label>
                <input type="text" id="login-username" class="form-input" placeholder="Enter username">
            </div>
            <div class="form-group">
                <label>Password</label>
                <input type="password" id="login-password" class="form-input" placeholder="Enter password">
            </div>
            <div id="login-error" class="error-message hidden"></div>
            <button class="popup-btn" onclick="handleLogin()">Login</button>
        </div>

        <!-- Register Form -->
        <div id="register-form" class="popup-content hidden">
            <h2 class="popup-title">Create Account</h2>
            <div class="form-group">
                <label>Username</label>
                <input type="text" id="register-username" class="form-input" placeholder="Choose username">
            </div>
            <div class="form-group">
                <label>Password</label>
                <input type="password" id="register-password" class="form-input" placeholder="Choose password">
            </div>
            <div id="register-error" class="error-message hidden"></div>
            <button class="popup-btn" onclick="handleRegister()">Create Account</button>
        </div>

        <!-- View Account -->
        <div id="account-view" class="popup-content hidden">
            <h2 class="popup-title">Your Account</h2>
            <div class="account-info">
                <div class="info-row">
                    <span class="info-label">Username:</span>
                    <span id="display-username" class="info-value">-</span>
                </div>
                <div class="info-row">
                    <span class="info-label">User ID:</span>
                    <span id="display-userid" class="info-value">-</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Password:</span>
                    <span id="display-password" class="info-value password-hidden">••••••••</span>
                </div>
            </div>
            <button class="popup-btn" onclick="togglePassword()">
                <span id="password-btn-text">Show Password</span>
            </button>
        </div>

        <!-- Success Message -->
        <div id="success-message" class="popup-content hidden">
            <h2 class="popup-title success">✓ Success!</h2>
            <p class="success-text" id="success-text">Account created successfully!</p>
            <button class="popup-btn" onclick="closePopup()">Close</button>
        </div>
    </div>
</div>

    <script>
        function createSnowflakes() {
            const leftColumn = document.getElementById('leftColumn');
            const snowflakeChars = ['❄', '❅', '❆'];

            for (let i = 0; i < 50; i++) {
                const snowflake = document.createElement('div');
                snowflake.className = 'snowflake';
                snowflake.textContent = snowflakeChars[Math.floor(Math.random() * snowflakeChars.length)];
                snowflake.style.left = Math.random() * 100 + '%';
                snowflake.style.animationDuration = (Math.random() * 3 + 2) + 's';
                snowflake.style.animationDelay = Math.random() * 5 + 's';
                snowflake.style.opacity = Math.random() * 0.6 + 0.4;
                snowflake.style.fontSize = (Math.random() * 10 + 10) + 'px';
                leftColumn.appendChild(snowflake);
            }
        }

        // Initialize visual effects
        createSnowflakes();

        // Burger Menu Functions
        function toggleMenu() {
            const menu = document.querySelector('.burger-menu');
            const overlay = document.querySelector('.menu-overlay');
            const burgerBtn = document.querySelector('.burger-btn');

            menu.classList.toggle('active');
            overlay.classList.toggle('active');
            burgerBtn.classList.toggle('active');
        }

        function handleMenuClick(action) {
            console.log('Menu action:', action);

            switch(action) {
                case 'login':
                    openPopup('login');
                    break;
                case 'register':
                    openPopup('register');
                    break;
                case 'account':
                    openPopup('account');
                    break;
                default:
                    console.log('Unknown action:', action);
            }

            // Close burger menu after clicking
            toggleMenu();
        }

    </script>
    <script src="game.js"></script>
    <script src="eraOneEvents.js"></script>
    <script src="eraOneConfig.js"></script>
    <script src="htmlLogic.js"></script>
    <script src="elementHandling.js"></script>
</body>
</html>